<!doctype html>
<html>
	<head>
	    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
		<link rel="import" href="../../paper-styles/demo-pages.html">
		<link rel="import" href="../../iron-input/iron-input.html">
		<link rel="import" href="../iron-suggest-textarea.html">
	</head>

	<body>
		<template is="dom-bind">
			<h2>Element</h2>
			<iron-suggest-textarea
				id="textarea"
				value="{{value}}"
				value-with-ids="{{valueWithIds}}"
				suggest-query="{{suggestQuery}}"
				placeholder="Enter a text like 'Hi @joe'">
			</iron-suggest-textarea>

			<h2>Control</h2>
			<div class="vertical-section">
				<div hidden$="[[!suggestQuery]]">
					Replace <input is="iron-input" bind-value="{{suggestQuery}}"></input>
					with: <input is="iron-input" bind-value="{{id}}"></input>
					<button on-tap="onReplace">Replace</button>
				</div>
				<br>
				<div>Value with IDs <b>[[valueWithIds]]</b></div>
			</div>
		</iron-suggest-textarea>

		<script>
			var scope = document.querySelector('template[is=dom-bind]');
			scope.onReplace = function(e) {
				this.$.textarea.addReplacement(this.id, this.suggestQuery);
				this.$.textarea.replaceCurrentSelection(this.suggestQuery);
				this.$.textarea.focus();
			};
		</script>
	</body>
</html>
